# PTT è¡¨ç‰¹æ¿çˆ¬èŸ²èˆ‡åˆ†æå·¥å…·

æœ¬å°ˆæ¡ˆæ˜¯ä¸€å€‹ Python è…³æœ¬ï¼Œç”¨æ–¼çˆ¬å– PTT è¡¨ç‰¹æ¿çš„æ–‡ç« ï¼Œä¸¦æä¾›ä¸‰ç¨®åˆ†æåŠŸèƒ½ï¼šçµ±è¨ˆæ¨å™“æ–‡ã€æŠ“å–çˆ†æ–‡åœ–ç‰‡ã€ä»¥åŠæœå°‹é—œéµå­—ã€‚

## åŠŸèƒ½

  * **`crawl`**ï¼šçˆ¬å– PTT è¡¨ç‰¹æ¿ï¼Œå„²å­˜æ‰€æœ‰æ–‡ç« è³‡è¨Š (`articles.jsonl`) èˆ‡çˆ†æ–‡è³‡è¨Š (`popular_articles.jsonl`)ã€‚
  * **`push`**ï¼šåˆ†ææŒ‡å®šæ—¥æœŸç¯„åœå…§çš„æ–‡ç« ï¼Œçµ±è¨ˆã€Œæ¨ã€å’Œã€Œå™“ã€çš„ç¸½æ•¸èˆ‡å‰ 10 åä½¿ç”¨è€…ã€‚
  * **`popular`**ï¼šæŠ“å–æŒ‡å®šæ—¥æœŸç¯„åœå…§ï¼Œã€Œçˆ†æ–‡ã€ä¸­çš„æ‰€æœ‰åœ–ç‰‡ URLã€‚
  * **`keyword`**ï¼šæŠ“å–æŒ‡å®šæ—¥æœŸç¯„åœå…§ï¼Œç¬¦åˆã€Œé—œéµå­—ã€çš„æ–‡ç« ï¼ˆæœå°‹æ¨™é¡Œã€ä½œè€…ã€å…§æ–‡ï¼‰ä¸­çš„æ‰€æœ‰åœ–ç‰‡ URLã€‚

## å®‰è£

å®‰è£æ‰€éœ€çš„ Python å¥—ä»¶ï¼š

```bash
pip install requests beautifulsoup4
```

## è¨­å®š

åœ¨**åŸ·è¡Œ `crawl` ä¹‹å‰**ï¼Œä½ å¿…é ˆæ‰‹å‹•ä¿®æ”¹è…³æœ¬é ‚éƒ¨çš„å…¨åŸŸè®Šæ•¸ï¼š

  * `START_INDEX`ï¼šPTT åˆ—è¡¨é çš„èµ·å§‹ index (ä¾‹å¦‚ `3630`)ã€‚
  * `START_HREF`ï¼šä½ å¸Œæœ›é–‹å§‹çˆ¬å–çš„ç¬¬ä¸€ç¯‡æ–‡ç« çš„ URL (ä¾‹å¦‚ `"/bbs/Beauty/M.1704040318.A.E87.html"`)ã€‚

`crawl` æœƒå¾ `START_HREF` é€™ç¯‡æ–‡ç« é–‹å§‹ï¼Œçˆ¬åˆ°åµæ¸¬è·¨å¹´ (12 æœˆ -\> 1 æœˆ) æ™‚è‡ªå‹•åœæ­¢ã€‚

## ä½¿ç”¨æ–¹å¼

æœ¬å·¥å…·ä½¿ç”¨ `argparse` é€éæŒ‡ä»¤åˆ—åŸ·è¡Œã€‚

### 1\. çˆ¬å–æ–‡ç«  (crawl)

**é€™æ˜¯ç¬¬ä¸€æ­¥**ï¼Œå¿…é ˆå…ˆåŸ·è¡Œæ­¤æŒ‡ä»¤ä¾†ç”¢ç”Ÿè³‡æ–™æª”ã€‚

```bash
python crawler.py crawl
```

> ğŸ” æ­£åœ¨çˆ¬ index3630.html
> ğŸ¯ æ‰¾åˆ°èµ·é»ï¼š/bbs/Beauty/M.1704040318.A.E87.html
> ...
> ğŸ›‘ åµæ¸¬åˆ°è·¨å¹´ï¼ˆ12æœˆ âœ 1æœˆï¼‰ï¼ŒçµæŸçˆ¬èŸ²

### 2\. åˆ†ææ¨æ–‡ (push)

åˆ†ææŒ‡å®šæ—¥æœŸç¯„åœ (MMDD) å…§çš„æ¨æ–‡ã€‚

```bash
# ç¯„ä¾‹ï¼šåˆ†æ 1 æœˆ 1 æ—¥åˆ° 1 æœˆ 31 æ—¥çš„æ¨æ–‡
python crawler.py push 0101 0131
```

  * **è¼¸å‡º**: `push_0101_0131.json`

### 3\. æŠ“å–çˆ†æ–‡åœ–ç‰‡ (popular)

æŠ“å–æŒ‡å®šæ—¥æœŸç¯„åœ (MMDD) å…§çš„çˆ†æ–‡åœ–ç‰‡ã€‚

```bash
# ç¯„ä¾‹ï¼šæŠ“å– 10 æœˆ 1 æ—¥åˆ° 10 æœˆ 31 æ—¥çš„çˆ†æ–‡åœ–ç‰‡
python crawler.py popular 1001 1031
```

  * **è¼¸å‡º**: `popular_1001_1031.json`

### 4\. é—œéµå­—æœå°‹ (keyword)

æœå°‹æŒ‡å®šæ—¥æœŸç¯„åœ (MMDD) å…§ï¼Œæ–‡ç« å…§å®¹æˆ– metadata (ä½œè€…ã€æ¨™é¡Œ) åŒ…å«ç‰¹å®šé—œéµå­—çš„æ–‡ç« åœ–ç‰‡ã€‚

```bash
# ç¯„ä¾‹ï¼šæœå°‹ 3 æœˆ 1 æ—¥åˆ° 3 æœˆ 15 æ—¥ï¼ŒåŒ…å«ã€ŒYuriã€çš„æ–‡ç« 
python crawler.py keyword 0301 0315 Yuri
```

  * **è¼¸å‡º**: `keyword_0301_0315_Yuri.json`

[![Scoring](GAI_HW4_PTT_Beauty_Crawler/competetion_result.png)](/GAI_HW4_PTT_Beauty_Crawler/competetion_result.png)
